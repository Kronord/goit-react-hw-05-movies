{"version":3,"file":"static/js/Reviews.a18ad570.chunk.js","mappings":"gRAEaA,EAAOC,EAAAA,GAAAA,GAAH,+EAMJC,EAAWD,EAAAA,GAAAA,GAAH,0CAIRE,EAAcF,EAAAA,GAAAA,GAAH,gE,SCPT,SAASG,IACtB,MCFa,WACb,OAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA4BH,EAAAA,EAAAA,UAAS,QAArC,eAAOK,EAAP,KAAeC,EAAf,KAaE,OAXFC,EAAAA,EAAAA,YAAU,WACRD,EAAU,YACVE,EAAAA,EAAAA,IAAgBL,GACbM,MAAK,SAAAC,GACJR,EAAQQ,EAAIC,SACZC,QAAQC,IAAIH,GACZT,EAAKa,OAAS,EAAIR,EAAU,YAAcA,EAAU,eAErDS,OAAM,SAAAC,GAAK,OAAIV,EAAU,iBAC3B,CAACL,EAAKa,OAAQX,IAER,CAAEF,KAAAA,EAAMI,OAAAA,GDdQY,GAAjBhB,EAAR,EAAQA,KAAMI,EAAd,EAAcA,OAERa,GAAWC,EAAAA,EAAAA,KAAH,wEAKd,MAAe,SAAXd,GACK,qCAGM,YAAXA,GAEA,SAAC,EAAAe,aAAD,CACEC,MAAM,UACNF,IAAKD,EACLI,KAAK,OACLC,gBAAgB,MAKP,aAAXlB,GAEA,SAACV,EAAD,UACGM,GACCA,EAAKuB,KAAI,YAA4B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACrB,OACE,2BACE,SAAC9B,EAAD,UAAW6B,KACX,uBAAIC,MAFGF,QAUN,aAAXpB,GACK,SAACP,EAAD,4DADT,I,uLE5CI8B,EAAM,mCAAZ,SAEeC,EAAc,GAAdA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA6BC,GAA7B,uFACyBC,MAAMD,GAD/B,YACQE,EADR,QAEkBC,GAFlB,gCAGYD,EAASE,OAHrB,+CAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,0GAOO,IAAMC,EAAmB,WAC9B,OAAOT,EAAc,yDAAD,OAA0DD,KAGnEW,EAAc,SAAAC,GACzB,OAAOX,EAAc,qDAAD,OAAsDD,EAAtD,kBAAmEY,KAG5EC,EAAkB,SAAAhB,GAC7B,OAAOI,EAAc,sCAAD,OAAuCJ,EAAvC,oBAAqDG,KAG9Dc,EAAkB,SAAAjB,GAC7B,OAAOI,EAAc,sCAAD,OAAuCJ,EAAvC,4BAA6DG,KAGtEpB,EAAkB,SAAAiB,GAC7B,OAAOI,EAAc,sCAAD,OAAuCJ,EAAvC,4BAA6DG","sources":["components/Reviews/Reviews.style.js","components/Reviews/Reviews.jsx","components/Hooks/useFetchReviews.js","components/services/FilmsApi.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0 20px;\n`;\n\nexport const Subtitle = styled.h4`\n  color: orange;\n`;\n\nexport const WarnMessage = styled.h2`\n  margin-left: 20px;\n  color: orange;\n`;","import useFetchReviews from 'components/Hooks/useFetchReviews';\nimport { css } from '@emotion/react';\nimport { PacmanLoader } from 'react-spinners';\nimport { List, Subtitle, WarnMessage } from './Reviews.style';\n\nexport default function Cast() {\n  const { data, status } = useFetchReviews();\n\n  const override = css`\n    display: block;\n    margin: 200px auto;\n  `;\n\n  if (status === 'idle') {\n    return <h1>Welcome!</h1>;\n  }\n\n  if (status === 'pending') {\n    return (\n      <PacmanLoader\n        color=\"#F5A623\"\n        css={override}\n        size=\"50px\"\n        speedMultiplier=\"4\"\n      />\n    );\n  }\n\n  if (status === 'resolved') {\n    return (\n      <List>\n        {data &&\n          data.map(({id, author, content}) => {\n            return (\n              <li key={id}>\n                <Subtitle>{author}</Subtitle>\n                <p>{content}</p>\n              </li>\n            );\n          })}\n      </List>\n    );\n  }\n\n  if (status === 'rejected') {\n    return <WarnMessage>We don`t have any reviews for this movie</WarnMessage>;\n  }\n}\n","import { getMovieReviews } from 'components/services/FilmsApi';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nexport default function useFetchReviews() {\n  const [data, setData] = useState([]);\n  const { movieId } = useParams();\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setStatus('pending');\n    getMovieReviews(movieId)\n      .then(res => {\n        setData(res.results);\n        console.log(res);\n        data.length > 0 ? setStatus('resolved') : setStatus('rejected');\n      })\n      .catch(error => setStatus('rejected'));\n  }, [data.length, movieId]);\n    \n    return { data, status };\n};\n","const KEY = 'f792bc0e541efe7531ca1576bffe5aa2';\n\nasync function ErrorHandling(url) {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport const getTrendingFilms = () => {\n  return ErrorHandling(`https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`);\n};\n\nexport const searchFilms = query => {\n  return ErrorHandling(`https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${query}`);\n};\n\nexport const getMovieDetails = id => {\n  return ErrorHandling(`https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}`);\n};\n\nexport const getMovieCredits = id => {\n  return ErrorHandling(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`);\n};\n\nexport const getMovieReviews = id => {\n  return ErrorHandling(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}`);\n};\n"],"names":["List","styled","Subtitle","WarnMessage","Cast","useState","data","setData","movieId","useParams","status","setStatus","useEffect","getMovieReviews","then","res","results","console","log","length","catch","error","useFetchReviews","override","css","PacmanLoader","color","size","speedMultiplier","map","id","author","content","KEY","ErrorHandling","url","fetch","response","ok","json","Promise","reject","Error","getTrendingFilms","searchFilms","query","getMovieDetails","getMovieCredits"],"sourceRoot":""}